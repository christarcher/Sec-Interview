### 抓不到密码怎么绕过

**1. 哈希传递**

这是在 Windows 环境下，当无法获取明文密码时的首选攻击方式。正如我们之前讨论的，Windows 在网络认证时可以直接使用用户的哈希值

- **执行方式：** 使用 **Mimikatz**、**PsExec** 或者 **CrackMapExec** 这类工具，它们能够直接利用窃取的哈希值，在不知道明文密码的情况下，以该用户的身份登录到内网中的其他机器
- **具体思路：**
  1. 找到一种方法在目标机器上运行 Mimikatz 或类似工具。即使它无法获取明文密码，它通常也能抓取到用户的 **NTLM 哈希**
  2. 将抓取到的哈希值复制到你的攻击机上
  3. 使用 `PsExec.exe \\目标IP -u 用户名 -h 哈希值 cmd.exe` 这样的命令，直接在目标机器上获得一个交互式 Shell

这个方法非常有效，因为即使是最新版本的 Windows，只要没有配置额外的安全措施（比如 Credential Guard），哈希传递攻击依然可行

**2. 票据传递**

这个技术是在 **Kerberos** 认证环境下使用的，更加高级和隐蔽

- **执行方式：** 利用 Mimikatz 或其他工具，从内存中窃取用户的 **Kerberos 票据（Ticket）**，然后将这个票据注入到你的攻击机内存中
- **具体思路：**
  1. 在目标机器上获得一个域用户的会话
  2. 使用 Mimikatz 的 `sekurlsa::tickets /export` 命令，导出内存中的 Kerberos 票据
  3. 将导出的票据文件传送到你的攻击机
  4. 在你的攻击机上，使用 `kerberos::ptt` 命令，将票据注入到你的会话中
  5. 现在，你可以像票据的主人一样访问域内资源，而无需知道密码或哈希

这种方法的好处是，它不涉及密码或哈希的传输，更加难以被检测